/* =======================================================================
   Global_DMS - style.css（完全版）
   ・スティッキーフッター：コンテンツが少なくても最下部へ
   ・ハンバーガー：展開中はクロス（×）へトランスフォーム
   ・ロゴ：上下左右中央固定、vmin で可変、元の50%を上限に制御
   ======================================================================= */

/* ---------- リセット＆テーマ ---------- */
*,
*::before,
*::after { box-sizing: border-box; }

:root {
  --bg:#ffffff; --text:#1d2125; --muted:#5f6b7a; --border:#e5e5e5;
  --accent:#2563eb; --surface:#f7f8fa;
  --header-h:56px; --sidebar-w:280px;
  --z-header:100; --z-overlay:90; --z-sidebar:95;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f1214; --text:#e6e6e6; --muted:#a2aab5; --border:#2a2f36;
    --accent:#4c8dff; --surface:#171b1f;
  }
}

html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }

/* ▼ スティッキーフッター用：縦フレックスで main を伸ばす */
body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font:14px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans JP","Hiragino Kaku Gothic ProN",Meiryo,sans-serif;

  min-height:100dvh;       /* モバイルの動的な高さに強い */
  display:flex;
  flex-direction:column;
}
#main{ flex:1 0 auto; }    /* 余白はここが吸収して footer を押し下げる */
#statusbar{ flex:0 0 auto; }

/* ---------- 画面中央ロゴ（<img>） ---------- */
.center-logo{
  position:fixed;             /* ビューポート中央に固定 */
  left:50%; top:50%; transform:translate(-50%, -50%);
  width:auto; height:auto; object-fit:contain;
  pointer-events:none;        /* クリックを透過 */
  z-index:0;                  /* ヘッダー/フッターより下に（見た目の重なり回避） */

  /* ウィンドウに追従する可変値（短辺基準） */
  --vw-limit: clamp(160px, 50vmin, 90vw);
  --vh-limit: clamp(160px, 50vmin, 90vh);

  /* 上限：JS が注入する natural の 50%（--logo-max-w/h） */
  max-width:  min(var(--vw-limit), var(--logo-max-w, 99999px));
  max-height: min(var(--vh-limit), var(--logo-max-h, 99999px));
}

/* ---------- 汎用コンテナ ---------- */
.container{
  max-width:100%;
  width:100%;
  padding-left:16px; padding-right:16px;
  margin-left:auto; margin-right:auto;
}

/* ---------- ヘッダー ---------- */
.app-header{
  position:sticky; top:0; z-index:var(--z-header);
  background:var(--bg); border-bottom:1px solid var(--border);
}
.header-inner{ min-height:var(--header-h); display:flex; align-items:center; gap:12px; }
.app-title{
  margin:0; font-size:1.125rem; line-height:1.2;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* ---------- ハンバーガー（3本→×） ---------- */
.hamburger{
  position:relative; width:40px; height:40px; padding:0;
  border:none; background:transparent; color:inherit; cursor:pointer;
}
.hamburger .bar{
  display:block; width:22px; height:2px; background:var(--text);
  border-radius:1px; transition:transform .2s ease, opacity .2s ease;
}
.hamburger .bar + .bar{ margin-top:6px; }

/* 展開中はクロス（×）へ。menu.js が .is-open と aria-expanded を付与 */
.hamburger.is-open .bar:nth-child(1),
.hamburger[aria-expanded="true"] .bar:nth-child(1){ transform:translateY(8px) rotate(45deg); }
.hamburger.is-open .bar:nth-child(2),
.hamburger[aria-expanded="true"] .bar:nth-child(2){ opacity:0; }
.hamburger.is-open .bar:nth-child(3),
.hamburger[aria-expanded="true"] .bar:nth-child(3){ transform:translateY(-8px) rotate(-45deg); }
.hamburger:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }

/* ---------- 言語トグル（右端） ---------- */
.lang-switch{ margin-left:auto; display:inline-flex; align-items:center; gap:6px; }
.lang-btn{
  font:inherit; padding:6px 10px; border-radius:999px;
  border:1px solid var(--border); background:var(--surface); color:var(--text);
  cursor:pointer; transition:background .15s ease, transform .05s ease;
}
.lang-btn:hover{ background:rgba(127,127,127,.08); }
.lang-btn:active{ transform:translateY(1px); }
.lang-btn:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }

/* ---------- サイドバー（スライドイン） ---------- */
.sidebar{
  position:fixed; inset:0 auto 0 0;
  width:min(86vw, var(--sidebar-w)); max-width:100%;
  background:var(--bg); border-right:1px solid var(--border);
  transform:translateX(-100%); transition:transform .25s ease;
  z-index:var(--z-sidebar); overflow-y:auto; -webkit-overflow-scrolling:touch;
}
.sidebar[aria-hidden="false"]{ transform:translateX(0); }
.sidebar-nav{ padding:16px; }
.sidebar-title{ margin:4px 0 12px; font-size:1rem; font-weight:600; color:var(--muted); }
.sidebar-list{ list-style:none; padding:0; margin:0; }
.sidebar-list li+li{ margin-top:4px; }
.sidebar-list a{
  display:block; padding:10px 12px; color:var(--text); text-decoration:none;
  border-radius:8px; transition:background .15s ease;
}
.sidebar-list a:hover{ background:rgba(127,127,127,.08); }

/* ---------- オーバーレイ ---------- */
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.32);
  z-index:var(--z-overlay); opacity:0; pointer-events:none; transition:opacity .2s ease;
}
.overlay:not([hidden]){ opacity:1; pointer-events:auto; }

/* ---------- ステータスバー（フッター） ---------- */
.statusbar{
  border-top:1px solid var(--border);
  background:var(--surface);
  color:#000;                 /* ← フッターの文字色を黒に固定（変更点） */
  font-size:0.875rem;
}
.statusbar .container{ min-height:36px; display:flex; align-items:center; }

/* ---------- フォーム/テーブル（共通） ---------- */
button,input,select,textarea{ font:inherit; color:inherit; }
button{ cursor:pointer; }
input[type="text"],input[type="email"],input[type="password"],select,textarea{
  width:100%; padding:8px 10px; border:1px solid var(--border);
  border-radius:8px; background:var(--bg); color:var(--text);
}
input::placeholder,textarea::placeholder{ color:var(--muted); }
table{ width:100%; border-collapse:collapse; background:var(--bg); }
thead th{
  position:sticky; top:calc(var(--header-h) + 1px);
  background:var(--surface); border-bottom:1px solid var(--border);
  color:var(--muted); text-align:left; font-weight:600;
}
th,td{ padding:8px 10px; border-bottom:1px solid var(--border); }

/* ---------- レスポンシブ ---------- */
@media (max-width:768px){
  .header-inner{ gap:10px; min-height:52px; }
  .app-title{ font-size:1rem; }
  .lang-btn{ padding:5px 8px; }
}
@media (max-width:480px){
  :root{ --header-h:52px; }
  .lang-switch{ gap:4px; }
  .lang-btn{ padding:4px 8px; border-radius:10px; }
  .sidebar{ width:86vw; }
}
